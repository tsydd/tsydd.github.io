import{i as C,v as y,x as O,c as s,h as m,g as S,r as b,w as $,s as P,S as q}from"./index.622bef2a.js";import{h as w,c as Q}from"./QBtn.c70d0eb8.js";import{j as R,J as V}from"./position-engine.d6b62d07.js";const B={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function j(){const{props:t,proxy:{$q:c}}=S(),i=C(O,y);if(i===y)return console.error("QPageSticky needs to be child of QLayout"),y;const x=s(()=>{const e=t.position;return{top:e.indexOf("top")>-1,right:e.indexOf("right")>-1,bottom:e.indexOf("bottom")>-1,left:e.indexOf("left")>-1,vertical:e==="top"||e==="bottom",horizontal:e==="left"||e==="right"}}),o=s(()=>i.header.offset),f=s(()=>i.right.offset),u=s(()=>i.footer.offset),r=s(()=>i.left.offset),p=s(()=>{let e=0,l=0;const n=x.value,d=c.lang.rtl===!0?-1:1;n.top===!0&&o.value!==0?l=`${o.value}px`:n.bottom===!0&&u.value!==0&&(l=`${-u.value}px`),n.left===!0&&r.value!==0?e=`${d*r.value}px`:n.right===!0&&f.value!==0&&(e=`${-d*f.value}px`);const a={transform:`translate(${e}, ${l})`};return t.offset&&(a.margin=`${t.offset[1]}px ${t.offset[0]}px`),n.vertical===!0?(r.value!==0&&(a[c.lang.rtl===!0?"right":"left"]=`${r.value}px`),f.value!==0&&(a[c.lang.rtl===!0?"left":"right"]=`${f.value}px`)):n.horizontal===!0&&(o.value!==0&&(a.top=`${o.value}px`),u.value!==0&&(a.bottom=`${u.value}px`)),a}),g=s(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function v(e){const l=w(e.default);return m("div",{class:g.value,style:p.value},t.expand===!0?l:[m("div",l)])}return{$layout:i,getStickyContent:v}}var T=Q({name:"QPageScroller",props:{...B,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{default:()=>[18,18]}},emits:["click"],setup(t,{slots:c,emit:i}){const{proxy:{$q:x}}=S(),{$layout:o,getStickyContent:f}=j(),u=b(null);let r;const p=s(()=>o.height.value-(o.isContainer.value===!0?o.containerHeight.value:x.screen.height));function g(){return t.reverse===!0?p.value-o.scroll.value.position>t.scrollOffset:o.scroll.value.position>t.scrollOffset}const v=b(g());function e(){const h=g();v.value!==h&&(v.value=h)}function l(){t.reverse===!0?r===void 0&&(r=$(p,e)):n()}$(o.scroll,e),$(()=>t.reverse,l);function n(){r!==void 0&&(r(),r=void 0)}function d(h){const k=R(o.isContainer.value===!0?u.value:o.rootRef.value);V(k,t.reverse===!0?o.height.value:0,t.duration),i("click",h)}function a(){return v.value===!0?m("div",{ref:u,class:"q-page-scroller",onClick:d},f(c)):null}return l(),P(n),()=>m(q,{name:"q-transition--fade"},a)}});export{T as Q};
